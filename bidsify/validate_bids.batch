#!/bin/bash

#SBATCH -J bids-validator
#SBATCH -p russpold,owners,normal
#SBATCH --time=01:00:00

# Outputs ----------------------------------
#SBATCH -o /oak/stanford/groups/russpold/users/zenkavi/DevStudy_ServerScripts/.out/bids-validator.out
#SBATCH -e /oak/stanford/groups/russpold/users/zenkavi/DevStudy_ServerScripts/.err/bids-validator.err
#SBATCH --mail-user=zenkavi@stanford.edu
#SBATCH --mail-type=FAIL
# ------------------------------------------
source /oak/stanford/groups/russpold/users/zenkavi/DevStudy_ServerScripts/setup/dev_study_env.sh

module load nodejs
function npm-do { (PATH=$(npm bin):$PATH; eval $@;) }
cd /home/groups/russpold/software
npm-do bids-validator --verbose $DATA_LOC > $SERVER_SCRIPTS/bidsify/validator_out.txt

# DO NOT USE THIS ANY LONGER. SEE run_bids_validator.sh TO RUN IT THROUGH THE MOST RECENT FMRIPREP CONTAINER
# KEEPING THIS HERE ONLY TO REMEMBER HOW TO RUN APPS USING NODEJS
